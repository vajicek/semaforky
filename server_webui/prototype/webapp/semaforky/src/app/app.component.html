<style>
  .content {
    width: 100%;
    max-width: 360px;
    margin-bottom: 3rem;
  }

  .table {
    min-width: 300px;
    height: 100%;
    overflow: auto;
  }

  .left {
    float: left;
    width: 185px;
    margin-right: -185px;
    overflow: auto;
  }

  .right {
    margin-left: 185px;
    min-height: 1em;
    overflow: auto;
  }

  .countdown {
    min-height: 100px;
    width: 100%;
    font-size: 5em;
  }
  .semaphore{
    min-height: 100px;
    width: 100%;
  }
  .menu button {
    width: 120px;
    height: 35px;
  }

  .actions button {
    width: 150px;
    height: 35px;
  }

  .redLight, .greenLight, .yellowLight {
    display: inline-block;
    width: 33%;
  }
</style>

<div class="content">
  <div *ngIf="page==2" class="settings">
    <div class="table">
      <div>
        <div class="left">Line Rotation</div>
        <div class="right">
          <select [(ngModel)]="settings.linesRotation">
            <option value="0">Simple</option>
            <option value="1">Alternating</option>
          </select>
        </div>
      </div>
      <div>
        <div class="left">Lines</div>
        <div class="right">
          <input [(ngModel)]="settings.lines" type="number">
        </div>
      </div>
      <div>
        <div class="left">Rounds</div>
        <div class="right">
          <input [(ngModel)]="settings.roundSets" type="number">
        </div>
      </div>
      <div>
        <div class="left">Set Time</div>
        <div class="right">
          <input [(ngModel)]="settings.setTime" type="number">
        </div>
      </div>
      <div>
        <div class="left">Preparation Time</div>
        <div class="right">
          <input [(ngModel)]="settings.preparationTime" type="number">
        </div>
      </div>
      <div>
        <div class="left">Warning Time</div>
        <div class="right">
          <input [(ngModel)]="settings.warningTime" type="number">
        </div>
      </div>
      <div>
        <div class="left">Continuous</div>
        <div class="right">
          <input type="checkbox" [(ngModel)]="settings.continuous">
        </div>
      </div>
      <div>
        <div class="left">Number of sets</div>
        <div class="right">
          <input [(ngModel)]="settings.numberOfSets" type="number">
        </div>
      </div>
      <div>
        <div class="left">Delayed start</div>
        <div class="right">
          <input type="checkbox" [(ngModel)]="settings.delayedStartEnabled">
        </div>
      </div>
      <div>
        <div class="left">Time of start</div>
        <div class="right">
          <input [ngModel]="settings.delayedStartTime| date:'HH:mm:ss': 'UTC'" (ngModelChange)="settings.delayedStartTime=$event">
        </div>
      </div>
    </div>
    <div class="actions">
      <button type="button" (click)="onSettingsAccepted()" clickable>Ok</button>
      <button type="button" (click)="onSettingsCanceled()" clickable>Cancel</button>
    </div>
  </div>
  <div *ngIf="page==1" class="main">
    <div class="menu">
      <button type="button" [disabled]="!diagnosticEnabled" (click)="onDiagostic()" clickable>Diagnostic</button>
      <button type="button" [disabled]="!settingsEnabled" (click)="onSettings()" clickable>Settings</button>
      <button type="button" [disabled]="!manualControlEnabled" (click)="onManualControl()" clickable>Manual Control</button>
    </div>
    <div class="actions">
      <button type="button" [disabled]="!beginRoundEnabled" (click)="onBeginRound()" clickable>Begin Round</button>
      <button type="button" [disabled]="!endRoundEnabled" (click)="onEndRound()" clickable>End Round</button>
    </div>
    <div class="table">
      <div>
        <div class="left">Set</div>
        <div class="right">{{set}}</div>
      </div>
      <div>
        <div class="left">Round time</div>
        <div class="right">{{roundTime| date:'HH:mm:ss': 'UTC'}}</div>
      </div>
      <div>
        <div class="left">Line</div>
        <div class="right">{{line}}</div>
      </div>
    </div>
    <div class="countdown">
      {{countdown|number:'3.0-0'}}
    </div>
    <div class="semaphore">
      <div class="redLight">
        <span [hidden]="!isVisible(1)">
          <svg viewBox="0 0 1 1" version="1.1" class="redLightGlyph" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg">
            <circle fill="#FF0000" cx="0.5" cy="0.5" r="0.5" />
          </svg>
        </span>
      </div>
      <div class="greenLight">
        <span [hidden]="!isVisible(2)">
          <svg viewBox="0 0 1 1" version="1.1" class="greenLightGlyph" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg">
            <circle fill="#00FF00" cx="0.5" cy="0.5" r="0.5" />
          </svg>
        </span>
      </div>
      <div class="yellowLight">
        <span [hidden]="!isVisible(3)">
          <svg viewBox="0 0 1 1" version="1.1" class="yellowLightGlyph" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg">
            <circle fill="#FFFF00" cx="0.5" cy="0.5" r="0.5" />
          </svg>
        </span>
      </div>
    </div>
    <div class="actions">
      <button type="button" [disabled]="!startSetEnabled" (click)="onStartSet()" clickable>Start Set</button>
      <button type="button" [disabled]="!stopSetEnabled" (click)="onStopSet()" clickable>Stop Set</button>
      <button type="button" [disabled]="!cancelSetEnabled" (click)="onCancelSet()" clickable>Cancel Set</button>
      <button type="button" [disabled]="!customSetEnabled" (click)="onCustomSet()" clickable>Custom Set</button>
    </div>
  </div>
</div>

<router-outlet></router-outlet>
